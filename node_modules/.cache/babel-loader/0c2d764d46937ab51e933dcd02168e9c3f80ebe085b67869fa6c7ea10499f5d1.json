{"ast":null,"code":"import image from'./ava.jpg';import'./App.css';import React,{useEffect,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Avatar,{})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Hi, I'm Nikita!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Play game!\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"canvas\"}),/*#__PURE__*/_jsx(MiniGame,{})]});}// function AgainButton(){\n//   return(\n//   );\n// }\nfunction Avatar(){return/*#__PURE__*/_jsx(\"img\",{className:\"avatar\",src:image,alt:\"yours avatar\",width:150,height:150});}function MiniGame(){const[count,setCount]=useState(0);const canvasRef=useRef(null);const[x,setX]=useState(75);const[y,setY]=useState(75);const[dx,setDx]=useState(2);const[dy,setDy]=useState(4);const[paddlex,setPaddlex]=useState(0);const paddleh=10;const paddlew=75;const[rightArrow,setRightArrow]=useState(false);const[leftArrow,setLeftArrow]=useState(false);const[gameOver,setGameOver]=useState(false);const WIDTH=400;const HEIGHT=400;useEffect(()=>{const canvas=canvasRef.current;const context=canvas.getContext(\"2d\");const intervalId=setInterval(()=>{if(!gameOver){draw(context);}},10);return()=>clearInterval(intervalId);},[x,y,paddlex,rightArrow,leftArrow,gameOver]);useEffect(()=>{const handleKeyDown=evt=>{if(evt.keyCode===39)setRightArrow(true);else if(evt.keyCode===37)setLeftArrow(true);};const handleKeyUp=evt=>{if(evt.keyCode===39)setRightArrow(false);else if(evt.keyCode===37)setLeftArrow(false);};window.addEventListener(\"keydown\",handleKeyDown);window.addEventListener(\"keyup\",handleKeyUp);return()=>{window.removeEventListener(\"keydown\",handleKeyDown);window.removeEventListener(\"keyup\",handleKeyUp);};},[]);const clear=context=>{context.clearRect(0,0,WIDTH,HEIGHT);};const circle=(context,x,y,r)=>{context.beginPath();context.arc(x,y,r,0,Math.PI*2,true);context.closePath();context.fill();};const rect=(context,x,y,w,h)=>{context.beginPath();context.rect(x,y,w,h);context.closePath();context.fill();};const score=context=>{context.fillStyle=\"black\";context.font='14px Fantasy';context.fillText(count,8,20);};const draw=context=>{clear(context);// Рисуем мяч\ncircle(context,x,y,10);// Двигаем платформу\nif(rightArrow)setPaddlex(prev=>Math.min(prev+5,WIDTH-paddlew));if(leftArrow)setPaddlex(prev=>Math.max(prev-5,0));// Рисуем платформу\nrect(context,paddlex,HEIGHT-paddleh,paddlew,paddleh);// Проверка столкновения с границами\nif(x+dx>WIDTH||x+dx<0)setDx(-dx);if(y+dy<0){setDy(-dy);}else if(y+dy>HEIGHT){// Проверка на попадание мяча на платформу\nif(x>paddlex&&x<paddlex+paddlew){setDy(-dy);setCount(count+1);if(count>=10){context.fillStyle=\"Black\";context.font=\"32px fantasy\";context.fillText(\"You've won 10 TON!!!!\",100,160);setGameOver(true);setCount(0);}}else{// Конец игры\ncontext.fillStyle=\"Black\";context.font=\"40px fantasy\";context.fillText(\"Game Over\",100,160);setGameOver(true);setCount(0);return;}}// Обновляем координаты мяча\nsetX(prev=>prev+dx);setY(prev=>prev+dy);score(context);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:WIDTH,height:HEIGHT}),gameOver]});}","map":{"version":3,"names":["image","React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","App","className","children","Avatar","id","MiniGame","src","alt","width","height","count","setCount","canvasRef","x","setX","y","setY","dx","setDx","dy","setDy","paddlex","setPaddlex","paddleh","paddlew","rightArrow","setRightArrow","leftArrow","setLeftArrow","gameOver","setGameOver","WIDTH","HEIGHT","canvas","current","context","getContext","intervalId","setInterval","draw","clearInterval","handleKeyDown","evt","keyCode","handleKeyUp","window","addEventListener","removeEventListener","clear","clearRect","circle","r","beginPath","arc","Math","PI","closePath","fill","rect","w","h","score","fillStyle","font","fillText","prev","min","max","ref"],"sources":["/Users/mak/Programming/web/frontend_react/my-app/src/App.js"],"sourcesContent":["import image from './ava.jpg'\nimport './App.css';\nimport React, { useEffect, useRef, useState } from \"react\";\n\nexport default function App() {\n  return (\n    <div className='content'>\n      <header><Avatar /></header>\n      <h1>Hi, I'm Nikita!</h1>\n      <p>Play game!</p>\n      <canvas id=\"canvas\"></canvas>\n      <MiniGame />\n    </div>\n  );\n}\n\n// function AgainButton(){\n//   return(\n\n//   );\n// }\n\nfunction Avatar(){\n  return (\n    <img\n      className='avatar'\n      src={image}\n      alt='yours avatar'\n      width={150}\n      height={150}\n    />\n  );\n}\n\nfunction MiniGame(){\n  const [count, setCount] = useState(0);\n  const canvasRef = useRef(null);\n  const [x, setX] = useState(75);\n  const [y, setY] = useState(75);\n  const [dx, setDx] = useState(2);\n  const [dy, setDy] = useState(4);\n  const [paddlex, setPaddlex] = useState(0);\n  const paddleh = 10;\n  const paddlew = 75;\n  const [rightArrow, setRightArrow] = useState(false);\n  const [leftArrow, setLeftArrow] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n\n  const WIDTH = 400;\n  const HEIGHT = 400;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n\n    const intervalId = setInterval(() => {\n      if (!gameOver) {\n        draw(context);\n      }\n    }, 10);\n\n    return () => clearInterval(intervalId);\n  }, [x, y, paddlex, rightArrow, leftArrow, gameOver]);\n\n  useEffect(() => {\n    const handleKeyDown = (evt) => {\n      if (evt.keyCode === 39) setRightArrow(true);\n      else if (evt.keyCode === 37) setLeftArrow(true);\n    };\n\n    const handleKeyUp = (evt) => {\n      if (evt.keyCode === 39) setRightArrow(false);\n      else if (evt.keyCode === 37) setLeftArrow(false);\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, []);\n\n  const clear = (context) => {\n    context.clearRect(0, 0, WIDTH, HEIGHT);\n  };\n\n  const circle = (context, x, y, r) => {\n    context.beginPath();\n    context.arc(x, y, r, 0, Math.PI * 2, true);\n    context.closePath();\n    context.fill();\n  };\n\n  const rect = (context, x, y, w, h) => {\n    context.beginPath();\n    context.rect(x, y, w, h);\n    context.closePath();\n    context.fill();\n  };\n  \n  const score = (context) => {\n    context.fillStyle = \"black\";\n    context.font = '14px Fantasy';\n    context.fillText(count, 8, 20)\n  };\n\n  const draw = (context) => {\n    clear(context);\n\n    // Рисуем мяч\n    circle(context, x, y, 10);\n\n    // Двигаем платформу\n    if (rightArrow) setPaddlex((prev) => Math.min(prev + 5, WIDTH - paddlew));\n    if (leftArrow) setPaddlex((prev) => Math.max(prev - 5, 0));\n\n    // Рисуем платформу\n    rect(context, paddlex, HEIGHT - paddleh, paddlew, paddleh);\n\n    // Проверка столкновения с границами\n    if (x + dx > WIDTH || x + dx < 0) setDx(-dx);\n    if (y + dy < 0){ \n      setDy(-dy);\n    }else if (y + dy > HEIGHT) {\n      // Проверка на попадание мяча на платформу\n      if (x > paddlex && x < paddlex + paddlew) {\n        setDy(-dy);\n        setCount(count+1);\n        if(count>=10){\n          context.fillStyle = \"Black\";\n          context.font = \"32px fantasy\";\n          context.fillText(\"You've won 10 TON!!!!\", 100, 160);\n          setGameOver(true);\n          setCount(0);\n        }\n      } else {\n        // Конец игры\n        context.fillStyle = \"Black\";\n        context.font = \"40px fantasy\";\n        context.fillText(\"Game Over\", 100, 160);\n        setGameOver(true);\n        setCount(0);\n        return;\n      }\n    }\n\n    // Обновляем координаты мяча\n    setX((prev) => prev + dx);\n    setY((prev) => prev + dy);\n    score(context)\n  };\n\n  return (\n    <div>\n      <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} />\n      {gameOver}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}