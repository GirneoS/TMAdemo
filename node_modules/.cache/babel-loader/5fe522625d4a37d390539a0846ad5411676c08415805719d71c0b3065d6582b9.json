{"ast":null,"code":"var _jsxFileName = \"/Users/mak/Programming/web/frontend_react/my-app/src/App.js\",\n  _s = $RefreshSig$();\nimport logo from './Фото 03.09.2024, 23.16.jpg';\nimport './App.css';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Hi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MiniGame, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nfunction MiniGame() {\n  _s();\n  const canvasRef = useRef(null);\n  const [x, setX] = useState(75);\n  const [y, setY] = useState(75);\n  const [dx, setDx] = useState(2);\n  const [dy, setDy] = useState(4);\n  const [paddlex, setPaddlex] = useState(0);\n  const paddleh = 10;\n  const paddlew = 75;\n  const [rightArrow, setRightArrow] = useState(false);\n  const [leftArrow, setLeftArrow] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const WIDTH = 400;\n  const HEIGHT = 400;\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    const intervalId = setInterval(() => {\n      if (!gameOver) {\n        draw(context);\n      }\n    }, 10);\n    return () => clearInterval(intervalId);\n  }, [x, y, paddlex, rightArrow, leftArrow, gameOver]);\n  useEffect(() => {\n    const handleKeyDown = evt => {\n      if (evt.keyCode === 39) setRightArrow(true);else if (evt.keyCode === 37) setLeftArrow(true);\n    };\n    const handleKeyUp = evt => {\n      if (evt.keyCode === 39) setRightArrow(false);else if (evt.keyCode === 37) setLeftArrow(false);\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, []);\n  const clear = context => {\n    context.clearRect(0, 0, WIDTH, HEIGHT);\n  };\n  const circle = (context, x, y, r) => {\n    context.beginPath();\n    context.arc(x, y, r, 0, Math.PI * 2, true);\n    context.closePath();\n    context.fill();\n  };\n  const rect = (context, x, y, w, h) => {\n    context.beginPath();\n    context.rect(x, y, w, h);\n    context.closePath();\n    context.fill();\n  };\n  const draw = context => {\n    clear(context);\n\n    // Рисуем мяч\n    circle(context, x, y, 10);\n\n    // Двигаем платформу\n    if (rightArrow) setPaddlex(prev => Math.min(prev + 5, WIDTH - paddlew));\n    if (leftArrow) setPaddlex(prev => Math.max(prev - 5, 0));\n\n    // Рисуем платформу\n    rect(context, paddlex, HEIGHT - paddleh, paddlew, paddleh);\n\n    // Проверка столкновения с границами\n    if (x + dx > WIDTH || x + dx < 0) setDx(-dx);\n    if (y + dy < 0) setDy(-dy);else if (y + dy > HEIGHT) {\n      // Проверка на попадание мяча на платформу\n      if (x > paddlex && x < paddlex + paddlew) {\n        setDy(-dy);\n      } else {\n        // Конец игры\n        context.fillStyle = \"Black\";\n        context.font = \"40px fantasy\";\n        context.fillText(\"Game Over\", 100, 160);\n        setGameOver(true);\n        return;\n      }\n    }\n\n    // Обновляем координаты мяча\n    setX(prev => prev + dx);\n    setY(prev => prev + dy);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: WIDTH,\n      height: HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Game Over\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(MiniGame, \"EAKkMuO/ljx4XehuSl5bi+qMH0E=\");\n_c2 = MiniGame;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"MiniGame\");","map":{"version":3,"names":["logo","React","useEffect","useRef","useState","jsxDEV","_jsxDEV","App","children","fileName","_jsxFileName","lineNumber","columnNumber","id","MiniGame","_c","_s","canvasRef","x","setX","y","setY","dx","setDx","dy","setDy","paddlex","setPaddlex","paddleh","paddlew","rightArrow","setRightArrow","leftArrow","setLeftArrow","gameOver","setGameOver","WIDTH","HEIGHT","canvas","current","context","getContext","intervalId","setInterval","draw","clearInterval","handleKeyDown","evt","keyCode","handleKeyUp","window","addEventListener","removeEventListener","clear","clearRect","circle","r","beginPath","arc","Math","PI","closePath","fill","rect","w","h","prev","min","max","fillStyle","font","fillText","ref","width","height","_c2","$RefreshReg$"],"sources":["/Users/mak/Programming/web/frontend_react/my-app/src/App.js"],"sourcesContent":["import logo from './Фото 03.09.2024, 23.16.jpg';\nimport './App.css';\nimport React, { useEffect, useRef, useState } from \"react\";\n\nexport default function App() {\n  return (\n    <div>\n      <p>Hi</p>\n      <canvas id=\"canvas\"></canvas>\n      <MiniGame />\n    </div>\n  );\n}\n\nfunction MiniGame(){\n  const canvasRef = useRef(null);\n  const [x, setX] = useState(75);\n  const [y, setY] = useState(75);\n  const [dx, setDx] = useState(2);\n  const [dy, setDy] = useState(4);\n  const [paddlex, setPaddlex] = useState(0);\n  const paddleh = 10;\n  const paddlew = 75;\n  const [rightArrow, setRightArrow] = useState(false);\n  const [leftArrow, setLeftArrow] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n\n  const WIDTH = 400;\n  const HEIGHT = 400;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n\n    const intervalId = setInterval(() => {\n      if (!gameOver) {\n        draw(context);\n      }\n    }, 10);\n\n    return () => clearInterval(intervalId);\n  }, [x, y, paddlex, rightArrow, leftArrow, gameOver]);\n\n  useEffect(() => {\n    const handleKeyDown = (evt) => {\n      if (evt.keyCode === 39) setRightArrow(true);\n      else if (evt.keyCode === 37) setLeftArrow(true);\n    };\n\n    const handleKeyUp = (evt) => {\n      if (evt.keyCode === 39) setRightArrow(false);\n      else if (evt.keyCode === 37) setLeftArrow(false);\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, []);\n\n  const clear = (context) => {\n    context.clearRect(0, 0, WIDTH, HEIGHT);\n  };\n\n  const circle = (context, x, y, r) => {\n    context.beginPath();\n    context.arc(x, y, r, 0, Math.PI * 2, true);\n    context.closePath();\n    context.fill();\n  };\n\n  const rect = (context, x, y, w, h) => {\n    context.beginPath();\n    context.rect(x, y, w, h);\n    context.closePath();\n    context.fill();\n  };\n\n  const draw = (context) => {\n    clear(context);\n\n    // Рисуем мяч\n    circle(context, x, y, 10);\n\n    // Двигаем платформу\n    if (rightArrow) setPaddlex((prev) => Math.min(prev + 5, WIDTH - paddlew));\n    if (leftArrow) setPaddlex((prev) => Math.max(prev - 5, 0));\n\n    // Рисуем платформу\n    rect(context, paddlex, HEIGHT - paddleh, paddlew, paddleh);\n\n    // Проверка столкновения с границами\n    if (x + dx > WIDTH || x + dx < 0) setDx(-dx);\n    if (y + dy < 0) setDy(-dy);\n    else if (y + dy > HEIGHT) {\n      // Проверка на попадание мяча на платформу\n      if (x > paddlex && x < paddlex + paddlew) {\n        setDy(-dy);\n      } else {\n        // Конец игры\n        context.fillStyle = \"Black\";\n        context.font = \"40px fantasy\";\n        context.fillText(\"Game Over\", 100, 160);\n        setGameOver(true);\n        return;\n      }\n    }\n\n    // Обновляем координаты мяча\n    setX((prev) => prev + dx);\n    setY((prev) => prev + dy);\n  };\n\n  return (\n    <div>\n      <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} />\n      {gameOver && <div>Game Over</div>}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}